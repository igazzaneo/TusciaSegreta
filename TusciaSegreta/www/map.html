<ons-page>
  <ons-toolbar style="background-color: #000000">
    <div class="left" style="width: 50px">
      <ons-toolbar-button onclick="fn.open()">
        <ons-icon icon="fa-info" size="35px"></ons-icon>
      </ons-toolbar-button>
    </div>
    <div class="center"><img src="img/logo_tool.png" height="55px"></div>
    <div class="right" style="width: 50px">
      <ons-toolbar-button icon="fa-user" size="40px" onclick="fn.gotoPage('accesso.html')"></ons-toolbar-button>
    </div>
  </ons-toolbar>

    <div id="searchwrapper">
      <form action="">
        <input type="text" class="searchbox" name="s" value="" placeholder="Cerca un sito..." />
        <select class="searchbox_select">
          <option value="0">Tutto</option>
          <option value="" disabled>Difficolt√†</option>
          <option value="1">Facile (2)</option>
          <option value="2">Medio (5)</option>
          <option value="3">Difficile (1)</option>
          <option value="" disabled>Lunghezza</option>
          <option value="4">1-2 Km (6)</option>
          <option value="5">3-4 Km (4)</option>
          <option value="" disabled>Durata</option>
          <option value="6">1-2 ore (7)</option>
          <option value="7">3-4 ore (3)</option>
        </select>
      </form>
    </div>
    <div id="mapid"></div>

    <script type='text/javascript'>

      var roads = L.gridLayer.googleMutant({
	       type: 'roadmap'	// valid values are 'roadmap', 'satellite', 'terrain' and 'hybrid'
      })

      var satellite = L.gridLayer.googleMutant({
	       type: 'satellite'	// valid values are 'roadmap', 'satellite', 'terrain' and 'hybrid'
      })

      var terrain = L.gridLayer.googleMutant({
	       type: 'terrain'	// valid values are 'roadmap', 'satellite', 'terrain' and 'hybrid'
      })

      var hybrid = L.gridLayer.googleMutant({
	       type: 'hybrid'	// valid values are 'roadmap', 'satellite', 'terrain' and 'hybrid'
      })

      var options = {
        icon: 'fas fa-hiking',
        /*iconShape: 'marker',*/
        borderColor: '#000000',
        borderWidth: 2,
        iconSize: [45, 45],
        /*popupAnchor: [100, -10],*/
        popupAnchor: [15, -7],
        innerIconStyle: 'font-size:30px;padding-top:4px;color: #000000'
      };

      var percorsi = L.layerGroup();

      for(var i=0; i<elencoSiti.length; i++) {

          var riga = elencoSiti[i];

          var denominazione = riga[1];
          var latitudine = riga[4];
          var longitudine = riga[5];

          L.marker([latitudine, longitudine], {
            icon: L.BeautifyIcon.icon(options),
            draggable: false
          }).bindPopup("<b>" + denominazione +"</b><br /><img src='img/percorsi/eremo/foto2.jpg' width='130px'><br/><div id='trail-rating'><ul class='ratings'><li class='average'><span id='rating' class='rating star3_5'>&nbsp;</span></li></ul></div><br/><div class=\"divTable\"><div class=\"divTableRow\"><div class=\"divTableHead1\">Facile</div><div class=\"divTableHead2\">2,5 Km</div><div class=\"divTableHead3\">2 h</div></div></div><br/><a href='#' onclick=\"fn.load('scheda.html')\">Vai alla scheda</a>").addTo(percorsi);
      }
      /*L.marker([42.511,11.625], {
        icon: L.BeautifyIcon.icon(options),
        draggable: false
      }).bindPopup("<b>Eremo di Poggio Conte</b><br /><img src='img/percorsi/eremo/foto2.jpg' width='130px'><br/><div id='trail-rating'><ul class='ratings'><li class='average'><span id='rating' class='rating star3_5'>&nbsp;</span></li></ul></div><br/><div class=\"divTable\"><div class=\"divTableRow\"><div class=\"divTableHead1\">Facile</div><div class=\"divTableHead2\">2,5 Km</div><div class=\"divTableHead3\">2 h</div></div></div><br/><a href='#' onclick=\"fn.load('scheda.html')\">Vai alla scheda</a>").addTo(percorsi);*/

      var map = new L.Map('mapid',{
          center: new L.LatLng(42.585280, 11.933396),
          zoom: 9,
          layers: [roads, percorsi]
      });

      var baseLayers = {
      		"Standard": roads,
          "Satellite": satellite,
          "Altimetria": terrain,
          "Ibrido": hybrid
      };

      var overlays = {
      		"Percorsi": percorsi
      };

  	  L.control.layers(baseLayers, overlays).addTo(map);

    </script>

</ons-page>
